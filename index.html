<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>fine radio</title>
  <script src="https://unpkg.com/wavesurfer.js"></script>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 3rem;
    }
    #waveform {
      width: 600px;
      height: 128px;
    }
    #waveform:hover {
      cursor: pointer;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
    }
  </style>
</head>
<body>

  <h2>threemoretunes warmup set for cryptic - diessa : 07.06/2025</h2>
  <p>
    a recording taken live on the night. one of the first times i've had the chance to play this side of my 
    music collection out of the house. deep and bubbly, spaced out with ramping energy and odd therapeutic respite. 
    turned out to be one my favorite performances to date. hope you enjoy as much i did creating it :)
    <br>
    don't miss cryptics upcoming night with the elusive legend Shelly Parker on the 15th November.
  </p>
  <div id="waveform"></div>
  <button id="playPause">▶️ Play</button>

  <script>
    const AUDIO_FILE = 'https://dl.dropboxusercontent.com/scl/fi/qjttn7jkikmd3gfecp5i6/erin.mp3?rlkey=idxh1wruerqzswjirlebitf2d'
    const STORAGE_KEY = 'audio-position-' + AUDIO_FILE

    // Create the player
    const wavesurfer = WaveSurfer.create({
      container: '#waveform',
      waveColor: '#ccc',
      progressColor: '#4caf50',
      height: 100,
      responsive: true,
    })

    // Load audio
    wavesurfer.load(AUDIO_FILE)

    // Resume playback position
    wavesurfer.on('ready', () => {
      const savedPosition = localStorage.getItem(STORAGE_KEY)
      if (savedPosition) {
        wavesurfer.seekTo(parseFloat(savedPosition))
      }
    })

    // Save playback progress every few seconds
    wavesurfer.on('audioprocess', () => {
      const position = wavesurfer.getCurrentTime() / wavesurfer.getDuration()
      localStorage.setItem(STORAGE_KEY, position)
    })

    // Play/pause button
    const playBtn = document.getElementById('playPause')
    playBtn.addEventListener('click', () => {
      wavesurfer.playPause()
      playBtn.textContent = wavesurfer.isPlaying() ? '⏸ Pause' : '▶️ Play'
    })
  </script>

</body>
</html>
